<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>DOM</title>
<script>
	// Homework Part 1
	// #1
	function fib(steps){
		let base1 = 0,
		base2 = 1,
		n;
		for(;steps>0;steps--){
			n = base1 + base2;
			base2 = base1;
			base1 = n;
		}
		return n;
	}
	console.log(fib(25));
	// #2
	let set = [1,0,5,6,3,2,3,7,9,8,4];
	function bubbleSort(set){
		for(i = 0; i < set.length; i++) {
			for(j = 0; j < set.length-i-1; j++) {
				if ( set[j+1] < set[j]) {
					let n = set[j+1];
					set[j+1] = set[j];
					set[j] = n;
				}
			}
		}
		return set;
	}
	console.log(bubbleSort(set));
	// #3
	function reverseStr(str){
		let rev = '';
		for(i = str.length - 1; i >=0; i--){
			rev += str[i];
		}
		return rev;
	}
	console.log(reverseStr("Reverse"));
	// #4
	function factorial(n){
		let ans = 1;
		for(i = 1;n>0;n--,i++) {
			ans = ans * i;
		}
		return ans;
	}
	console.log(factorial(5));
	// #5
	function substring(str, length, offset){
		return str.substring(offset, offset+length);
	}
	console.log(substring('Write a substring method that accepts a string', 5,5));
	// #6
	function isEven(someNum){
		let d = Math.abs(someNum/2);
		let f = Math.floor(d);
		let a = d-f;
		if (a > 0) return false;
		return true;
	}
	console.log(isEven(8));
	console.log(isEven(11));
	// #7
	function isPalindrome(str){
		if(str == reverseStr(str)) return true;
		return false;
	}
	console.log(isPalindrome('jimmy'));
	console.log(isPalindrome('madam'));
	// #8
	function printShape(shape, height, character){
		let r = '';
		if(!isEven(height)){
			console.log("Enter odd number for height");
			return;
		}
		switch (shape.toLowerCase()){
		case 'square':
			for (i = 0; i < Math.abs(height); i++){
				for (j = 0; j < Math.abs(height); j++){
					r += character;
				}
				r +='\n';
			}
			break;
		case 'triangle':
			for (i = 0; i < Math.abs(height); i++){
				let s = '';
				for (j = 0; j < i + 1; j++)
					s += character;
				r += s + '\n';
			}
			break;
		case 'diamond':
			for (i = 0; i < height; i++){
				
			}
			break;
		}
		console.log(r);
	}
	printShape("Triangle", 3, "$");
	printShape("Square", 3, "%");
	printShape("Diamond", 5, "*");
	// #9
	function traverseObject(someObj){
		Object.keys(someObj).forEach(function(key, idx) {
			console.log(key + ": " + obj[key]);
		});
	}
	traverseObject({})
	// #10
	function deleteElement(someArr){
		console.log(someArr.length);
		delete someArr[2];
		console.log(someArr.length);
	}
	deleteElement(['h','e','l','l','o','w','o','r','l','d']);
	// #11
	function spliceElement(someArr){
		console.log(someArr.length);
		someArr.splice(2,1);
		console.log(someArr.length);
	}
	spliceElement(['h','e','l','l','o','w','o','r','l','d']);
	// #12
	function Person(name, age){
		this.name = name;
		this.age = age;
	}
	var me = new Person('Colt', 31);
	console.log(me);
	// #13
	function getPerson(name, age){
		return {
			name: name,
			age: age
		}
	}
	console.log(getPerson("John", 30));
</script>
</head>
<body>
  
  <div>
    <div>
      <h3>Sum: <span id="sum"></span></h3>
      <h5 id="currentTime"></h5>
    </div>
    <div>
      <h1>United <span data-customAttr="USA">States</span> of America (<span>USA</span>)</h1>
      <div><a>Click Here</a><a>Click Here</a><a>Click Here</a><a>Click Here</a><a>Click Here</a></div>
      <a>Click Here</a>
      <a>Click <span>Here1</span></a>
      <a>Click Here</a>
      <div>
	  <select name="colors">
	    <option value="green">Green</option>
	    <option value="blue">Blue</option>
	    <option value="red" selected="selected">Red</option>
	    <option value="purple">Purple</option>
	    <option value="yellow" selected="selected">Yellow</option>
	  </select>
      </div>
    </div>
    <p id="helloWorld">Hello, World!</p>
    <div>
      <table>
        <tr>
          <th>Name</th>
          <th>Department</th>
        </tr>
        <tr>
          <td class="empName">John</td>
          <td>Sales</td>
        </tr>
        <tr>
          <td class="empName">Amy</td>
          <td>Finance</td>
        </tr>
        <tr>
          <td class="empName">Austin</td>
          <td>Sales</td>
        </tr>
        <tr>
          <td class="empName">Katie</td>
          <td>Marketing</td>
        </tr>
        <tr>
          <td class="empName" data-customAttr="court">Courtney</td>
          <td>Sales</td>
        </tr>
        <tr>
          <td class="empName">Scout</td>
          <td>Sales</td>
        </tr>
      </table>
    </div>
    <form id="firstForm">
      <a>Click <span>Here2</span></a>
	  <input type="text" data-customAttr="7"/><br/>
	  <input type="text" data-customAttr="24"/><br/>
	  <input type="radio" name="favoriteAnimal" value="dog"/>Dog<br/>
	  <input type="radio" name="favoriteColor" value="blue"/>Blue<br/>
	  <input id="num1" class="nums" type="text"/><br/>
	  <input type="radio" name="favoriteAnimal" value="cat"/>Cat<br/>
	  <input type="radio" name="favoriteColor" value="red"/>Red<br/>
	  <input type="radio" name="favoriteAnimal" value="horse"/>Horse<br/>
	  <input type="radio" name="favoriteAnimal" value="dolphin"/>Dolphin<br/>
	  <a>Click <span>Here</span></a><br/>
	  <input type="radio" name="favoriteAnimal" value="eagle"/>Eagle<br/>
	  <input type="radio" name="favoriteColor" value="green"/>Green<br/>
	  <input type="radio" name="favoriteColor" value="orange"/>Orange<br/>
	  <select name="hobbies">
	    <option value="photography">Photography</option>
	    <option value="football" selected="selected">Football</option>
	    <option value="kayaking" selected="selected">Kayaking</option>
	    <option value="hiking">Hiking</option>
	    <option value="programming" selected="selected">Programming</option>
	  </select>
	  <input id="num2" class="nums" type="text"/>
	  <select name="skills">
	    <option value="java">Java</option>
	    <option value="net">.NET</option>
	    <option value="dom" selected="selected">DOM</option>
	    <option value="html">HTML</option>
	    <option value="css">CSS</option>
	    <option value="javascript" selected="selected">Javascript</option>
	  </select>
    </form>
  </div>
  <a>Click Here</a>
  <a>Click <span data-customAttr="500">Here3</span></a>
  <a>Click Here</a>
	  
  <script type="text/javascript">
    //TODO: Javascript homework
	  // #1
	  function getUSA(){
	  	console.log(document.getElementsByTagName('h1')[0].children[1].textContent);
	  }
	  getUSA();
	  // #2
	  function getPeopleInSales(){
		  let t = document.getElementsByTagName('table')[0].children[0].children;
		  for (i = 0; i < t.length; i++){
			  if (t[i].lastElementChild.textContent == 'Sales')
				  console.log(t[i].firstElementChild.textContent);
		  }
	  }
	  getPeopleInSales();
	  // #3
	  function getAnchorChildren(){
		  let t = document.getElementsByTagName('a');
		  for (i = 0; i < t.length; i++){
			  for (j = 0; j < t[i].children.length; j++){
			  	if (t[i].children[j].nodeName == 'SPAN')
					console.log(t[i].children[j].innerHTML);
			  }
		  }
	  }
	  getAnchorChildren();
	  // #4
	  function getHobbies(){
		  let t = document.getElementsByName('skills')[0];
		  for ( i = 0; i < t.length; i++){
			  let t2 = t.children[i].getAttribute('selected');
			  if (t2 != null)
				  console.log( t.children[i].getAttribute('value') + ' : ' + t.children[i].textContent);
		  }
	  }
	  getHobbies();
	  // #5
	  function getCustomAttribute(){
		  let elem = document.querySelectorAll('*');
		  for (i = 0; i < elem.length; i++){
			  let e  = elem[i];
			  if (e.getAttribute('data-customAttr') != null){
				  console.log('data-customAttr = ' + e.getAttribute('data-customAttr') + ' in element: ' + e);
			  }
		  }
	  }
	  getCustomAttribute();
	  // #6
	  document.getElementById('num1').onchange = function(){
		  let e1 = Number.parseFloat(document.getElementById('num1').value);
		  let e2 = Number.parseFloat(document.getElementById('num2').value);
		  document.getElementById('sum').innerHTML = e1 + e2;
	  }
	  document.getElementById('num2').onchange = function(){
		  let e1 = Number.parseFloat(document.getElementById('num1').value);
		  let e2 = Number.parseFloat(document.getElementById('num2').value);
		  document.getElementById('sum').innerHTML = e1 + e2;
	  }
	  // #7
	  //document.getElementsByName('skills')[0].addEventListener('change',skillsAlert);
	  document.getElementsByName('skills')[0].onchange=function(){skillsAlert()};
	  lastselected = document.getElementsByName("skills")[0].value;
	  function skillsAlert(){
		  if (lastselected != document.getElementsByName("skills")[0].value){
			  alert ('Are you sure ' + document.getElementsByName("skills")[0].value + ' is one of your skills?');
		  }
		  lastselected = document.getElementsByName("skills")[0].value;
	  }
  // #8
	  lastcolor = '';
	  for (i = 0, max = document.getElementsByName('favoriteColor').length; i < max; i++){
		  document.getElementsByName('favoriteColor')[i].addEventListener('change',function(){
			  var color = this.value;
			  if(lastcolor == '')
				  alert  ('So your favorite color is ' + color);
			  else
				  alert ('So you like ' + color + ' more than ' + lastcolor + ' now?');
			  lastcolor = color;
		  });
	  }
	  // #9
	  var rows = document.getElementsByClassName('empName');
	  for (i = 0; i < rows.length; i++){
		  rows[i].onmouseout = function(){
			  this.style.opacity = '1';
		  }
		  rows[i].onmouseover = function(){
			  this.style.opacity = '0';
		  }
	  }
	  // #10
	  window.setInterval(function(){
		  var tag = document.getElementById('currentTime');
		  var d = new Date();
		  var h = 0;
		  var ampm = 'AM';
		  if (d.getHours() > 12){
			  h = d.getHours() - 12;
			  ampm = 'PM';
		  } else {
			  h = d.getHours();
			  if ( h == 0) h = 12;
			  ampm = 'AM';
		  }
		  tag.textContent = h + ':' + d.getMinutes() + ':' + d.getSeconds() + ' ' + ampm;
	  }, 1000);
	  // #11
	  document.getElementsByName('colors')[0].onchange = setInterval (function(){
			  document.getElementById('helloWorld').style.color = document.getElementsByName('colors')[0].value;
	  }, 3000);
	  // #12
	  function walkTheDOM(node, func) {
	      func(node);
	      node = node.firstChild;
	      while (node) {
	          walkTheDOM(node, func);
	          node = node.nextSibling;
	      }
	  }
	  walkTheDOM(document.body, function (node) {
	      if (node.nodeType === 3) { 
	          var text = node.data.trim();
	          if (text.length > 0) { 
				  console.log(text);
	          }
	      }
	  });
  </script>
  
</body>
</html>